---
import companyPlaceholder from '../assets/company.png';
import { getMessages, type Lang } from '../i18n/messages';

const { lang = 'es' } = Astro.props as { lang?: Lang };
const t = getMessages(lang);

// helper: "#features" -> "features"
const idFromHref = (href: string) => href.startsWith('#') ? href.slice(1) : href;



---

  <section id={idFromHref(t.nav.slider.href)} class="mx-auto max-w-6xl px-6 py-20">
    <h2 class="text-white text-3xl md:text-4xl font-semibold">{t.sections.slider.title}</h2>
    <p class="mt-3 text-white/75 max-w-2xl">{t.sections.slider.subtitle}</p>
    <div class="mt-10">
      <div class="flex flex-wrap justify-center gap-6 md:gap-8 lg:gap-10">
        {t.sections.slider.items.map((item) => (
          <article class="w-[90%] sm:w-1/2 md:w-1/3 lg:w-1/4 rounded-xl border border-white/10 bg-white/5 p-6 text-white overflow-hidden hover:scale-105 transition-transform duration-300">
            <div class="w-full overflow-hidden rounded-md bg-white/5 aspect-square">
              {
                !item.logo ? (
                  <img width="96" height="96" src={companyPlaceholder.src} alt="company"/>
                ) : (
              <img src={item.logo} alt={item.name} class="w-full h-full object-cover" onerror={`this.src='${companyPlaceholder.src}'`} />
                )
              }
            </div>
            <h3 class="font-semibold text-lg mt-4">{item.name}</h3>
            <p class="mt-2 text-white/70">{item.description}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <section id={idFromHref(t.nav.contact.href)} class="mx-auto max-w-6xl px-6 py-20">
    <h2 class="text-white text-3xl md:text-4xl font-semibold">{t.sections.contact.title}</h2>
    <p class="mt-3 text-white/75 max-w-2xl">{t.sections.contact.subtitle}</p>

    <div class="mt-8 flex flex-wrap gap-3">
      <a
        class="rounded-md bg-emerald-400/90 px-5 py-3 font-medium text-black hover:bg-emerald-400"
        href={t.sections.contact.whatsappHref}
        target="_blank"
        rel="noreferrer"
      >
        {t.sections.contact.ctaWhatsApp}
      </a>

      <a
        class="rounded-md border border-white/20 px-5 py-3 font-medium text-white hover:bg-white/10"
        href={t.sections.contact.emailHref}
      >
        {t.sections.contact.ctaEmail}
      </a>
    </div>
  </section>
</main>