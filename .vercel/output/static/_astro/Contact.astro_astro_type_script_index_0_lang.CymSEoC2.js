const b={};function w(t){const e=P(t),o=new ArrayBuffer(e.length),r=new DataView(o);for(let s=0;s<o.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return o}const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function P(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",o=0,r=0;for(let s=0;s<t.length;s++)o<<=6,o|=C.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((o&16711680)>>16),e+=String.fromCharCode((o&65280)>>8),e+=String.fromCharCode(o&255),o=r=0);return r===12?(o>>=4,e+=String.fromCharCode(o)):r===18&&(o>>=2,e+=String.fromCharCode((o&65280)>>8),e+=String.fromCharCode(o&255)),e}const B=-1,F=-2,v=-3,k=-4,M=-5,Q=-6;function j(t,e){return G(JSON.parse(t),e)}function G(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const o=t,r=Array(o.length);function s(n,u=!1){if(n===B)return;if(n===v)return NaN;if(n===k)return 1/0;if(n===M)return-1/0;if(n===Q)return-0;if(u||typeof n!="number")throw new Error("Invalid input");if(n in r)return r[n];const a=o[n];if(!a||typeof a!="object")r[n]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const i=a[0],l=e&&Object.hasOwn(e,i)?e[i]:void 0;if(l){let E=a[1];return typeof E!="number"&&(E=o.push(a[1])-1),r[n]=l(s(E))}switch(i){case"Date":r[n]=new Date(a[1]);break;case"Set":const E=new Set;r[n]=E;for(let c=1;c<a.length;c+=1)E.add(s(a[c]));break;case"Map":const O=new Map;r[n]=O;for(let c=1;c<a.length;c+=2)O.set(s(a[c]),s(a[c+1]));break;case"RegExp":r[n]=new RegExp(a[1],a[2]);break;case"Object":r[n]=Object(a[1]);break;case"BigInt":r[n]=BigInt(a[1]);break;case"null":const N=Object.create(null);r[n]=N;for(let c=1;c<a.length;c+=2)N[a[c]]=s(a[c+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const c=globalThis[i],d=new c(s(a[1]));r[n]=a[2]!==void 0?d.subarray(a[2],a[3]):d;break}case"ArrayBuffer":{const c=a[1],d=w(c);r[n]=d;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const c=i.slice(9);r[n]=Temporal[c].from(a[1]);break}case"URL":{const c=new URL(a[1]);r[n]=c;break}case"URLSearchParams":{const c=new URLSearchParams(a[1]);r[n]=c;break}default:throw new Error(`Unknown type ${i}`)}}else{const i=new Array(a.length);r[n]=i;for(let l=0;l<a.length;l+=1){const E=a[l];E!==F&&(i[l]=s(E))}}else{const i={};r[n]=i;for(const l in a){if(l==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const E=a[l];i[l]=s(E)}}return r[n]}return s(0)}function V(t){return t.endsWith("/")?t:t+"/"}const h={actionName:"_action"},Y=h,H=V,S={BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,CONTENT_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,MISDIRECTED_REQUEST:421,UNPROCESSABLE_CONTENT:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NETWORK_AUTHENTICATION_REQUIRED:511},$=Object.entries(S).reduce((t,[e,o])=>({...t,[o]:e}),{});class f extends Error{type="AstroActionError";code="INTERNAL_SERVER_ERROR";status=500;constructor(e){super(e.message),this.code=e.code,this.status=f.codeToStatus(e.code),e.stack&&(this.stack=e.stack)}static codeToStatus(e){return S[e]}static statusToCode(e){return $[e]??"INTERNAL_SERVER_ERROR"}static fromJson(e){return g(e)?new W(e.issues):J(e)?new f(e):new f({code:"INTERNAL_SERVER_ERROR"})}}function J(t){return typeof t=="object"&&t!=null&&"type"in t&&t.type==="AstroActionError"}function g(t){return typeof t=="object"&&t!=null&&"type"in t&&t.type==="AstroActionInputError"&&"issues"in t&&Array.isArray(t.issues)}class W extends f{type="AstroActionInputError";issues;fields;constructor(e){super({message:`Failed to validate: ${JSON.stringify(e,null,2)}`,code:"BAD_REQUEST"}),this.issues=e,this.fields={};for(const o of e)if(o.path.length>0){const r=o.path[0].toString();this.fields[r]??=[],this.fields[r]?.push(o.message)}}}function L(t){return`?${new URLSearchParams({[h.actionName]:t}).toString()}`}function m(t){if(t.type==="error"){let e;try{e=JSON.parse(t.body)}catch{return{data:void 0,error:new f({message:t.body,code:"INTERNAL_SERVER_ERROR"})}}return{error:f.fromJson(e),data:void 0}}return t.type==="empty"?{data:void 0,error:void 0}:{data:j(t.body,{URL:e=>new URL(e)}),error:void 0}}const q="%2E";function D(t={},e=""){return new Proxy(t,{get(o,r){if(o.hasOwnProperty(r)||typeof r=="symbol")return o[r];const s=e+encodeURIComponent(r.toString()).replaceAll(".",q);function n(u){return _(u,s)}return Object.assign(n,{queryString:L(s),toString:()=>n.queryString,bind:n.bind,valueOf:()=>n.valueOf,$$FORM_ACTION:function(){return{method:"POST",name:"_astroAction",action:"?"+new URLSearchParams(n.toString()).toString()}},async orThrow(u){const{data:a,error:i}=await _(u,s);if(i)throw i;return a}}),D(n,s+".")}})}function Z(t){let e=`${"/".replace(/\/$/,"")}/_actions/${new URLSearchParams(t()).get(Y.actionName)}`;return e=H(e),e}async function _(t,e,o){const r=new Headers;r.set("Accept","application/json");for(const[a,i]of Object.entries(b))r.set(a,i);let s=t;if(!(s instanceof FormData)){try{s=JSON.stringify(t)}catch(a){throw new f({code:"BAD_REQUEST",message:`Failed to serialize request body to JSON. Full error: ${a.message}`})}s?r.set("Content-Type","application/json"):r.set("Content-Length","0")}const n=await fetch(Z(()=>L(e)),{method:"POST",body:s,headers:r});if(n.status===204)return m({type:"empty",status:204});const u=await n.text();return n.ok?m({type:"data",body:u,status:200,contentType:"application/json+devalue"}):m({type:"error",body:u,status:n.status,contentType:"application/json"})}const z=D(),R=document.getElementById("contact-form"),T=document.getElementById("submit-btn"),A=document.getElementById("success-modal"),y=document.getElementById("modal-card"),X=document.getElementById("close-modal"),p=document.getElementById("email-error"),I=document.getElementById("message-error");function U(t){t?(A.classList.remove("hidden"),A.classList.add("flex"),setTimeout(()=>{y.classList.remove("scale-95","opacity-0"),y.classList.add("scale-100","opacity-100")},10)):(y.classList.remove("scale-100","opacity-100"),y.classList.add("scale-95","opacity-0"),setTimeout(()=>{A.classList.remove("flex"),A.classList.add("hidden")},300))}R?.addEventListener("submit",async t=>{t.preventDefault(),[p,I].forEach(n=>{n&&(n.innerText="",n.classList.add("hidden"))});const e=T.innerText;T.disabled=!0,T.innerHTML='<span class="animate-pulse">Enviando...</span>';const o=new FormData(R),{data:r,error:s}=await z.contact(o);if(s&&g(s)){s.fields.email&&(p.innerText=s.fields.email[0],p.classList.remove("hidden")),s.fields.message&&(I.innerText=s.fields.message[0],I.classList.remove("hidden"));return}if(s){alert(s.message);return}r&&(U(!0),R.reset()),T.disabled=!1,T.innerText=e});X?.addEventListener("click",()=>U(!1));
